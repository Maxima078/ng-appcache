!function(){"use strict";function e(e){return["$window","$rootScope","$timeout",function(n,t,a){return{restrict:"EA",compile:function(i,c){i.addClass("ng-hide"),n.applicationCache&&(n.applicationCache.addEventListener(e,function(){i.removeClass("ng-hide");var e=t.$eval(c.dismissDelay);e>=0&&a(function(){i.addClass("ng-hide")},e,!0)}),angular.isUndefined(c.dismissOnClick)||i.bind("click",function(){i.addClass("ng-hide")}))}}}]}var n={};["cached","checking","downloading","error","noupdate","obsolete","updateready"].map(function(t){n[t]=e(t)}),angular.module("ng-appcache",[]).factory("appcache",["$window","$rootScope","$q","$timeout",function(e,n,t,a){function i(){return t.reject("unsupported")}var c=this;if(e.applicationCache){c.abortUpdate=function(){try{e.applicationCache.abort()}catch(n){if(!n.message.match(/^'undefined'/))throw n}return t.when()},c.checkUpdate=function(){function n(){c.removeEventListener("updateready",i),c.removeEventListener("noupdate",r)}function i(){a(function(){o.resolve(),n()},0,!0)}function r(){a(function(){o.reject(),n()},0,!0)}var o=t.defer();c.addEventListener("updateready",i),c.addEventListener("noupdate",r);try{e.applicationCache.update()}catch(d){if("InvalidStateError"!==d.name&&"INVALID_STATE_ERR"!==d.name)throw d;o.reject(d.name)}return o.promise},c.swapCache=function(){var n=t.defer();try{e.applicationCache.swapCache(),n.resolve()}catch(a){if("InvalidStateError"!==a.name&&"INVALID_STATE_ERR"!==a.name)throw a;n.reject(a.name)}return n.promise},c.addEventListener=function(n,t,a){a=angular.isUndefined(a)?!1:a,e.applicationCache.addEventListener(n,t,a)},c.removeEventListener=function(n,t,a){a=angular.isUndefined(a)?!1:a,e.applicationCache.removeEventListener(n,t,a)},c.on=c.addEventListener,c.off=c.removeEventListener;var r={0:"UNCACHED",1:"IDLE",2:"CHECKING",3:"DOWNLOADING",4:"UPDATEREADY",5:"OBSOLETE"};c.status=r[e.applicationCache.status],n.$watch(function(){return e.applicationCache.status},function(e){c.status=r[e]}),e.applicationCache.addEventListener("error",function(){n.$digest()},!1)}else c.abortUpdate=i,c.checkUpdate=i,c.swapCache=i,c.addEventListener=function(){},c.removeEventListener=function(){},c.on=function(){},c.off=function(){};return c}]).directive("appcacheCached",n.cached).directive("appcacheChecking",n.checking).directive("appcacheDownloading",n.downloading).directive("appcacheError",n.error).directive("appcacheNoupdate",n.noupdate).directive("appcacheObsolete",n.obsolete).directive("appcacheUpdateready",n.updateready)}();